<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd" >
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:c="http://xmlns.jcp.org/jsp/jstl/core">
    <!--  Required meta tags -->
    <meta  name="description" content="Datenbank für Filme mit Favouriten-Funktion"/>
    <meta name="viewport" content="width=device-width, initial-scale=1.0, shrink-to-fit=no" />
    <!--  Bootstrap CSS -->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.0/css/bootstrap.min.css" />
    <link href="style.css" rel="stylesheet" />
    
    <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" type="text/javascript"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.0/js/bootstrap.min.js" type="text/javascript"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.0/umd/popper.min.js" type="text/javascript"></script>
      
    <h:head>
        <title>Facelet Title</title>
    </h:head>
    <h:body>
        <nav class="navbar navbar-expand-lg navbar-dark bg-primary">
            <a class="navbar-brand" href="#">HSH TV - Filmverwaltung</a>
            <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>

            <h:form rendered="#{ManagedBean.ifLoggedIn == true}">
            <div class="collapse navbar-collapse" id="navbarSupportedContent">
                <ul class="navbar-nav mr-auto">
                    <li class="nav-item active">
                        <h:commandLink  value="Alle Filme" class="nav-link" action="#{ManagedBean.showAllMoviesUI()}">
<!--                            <f:ajax render = "filmeTabelle" />-->
                        </h:commandLink>
                    </li>
                </ul>
            </div>
            </h:form>
        </nav>
        <div class="container">

            <div class="row">
                <div class="col">
                    <!--  Introduction Panel Bootstrap Elements -->
                    <div class="introduction">
                      <h1>
                        Willkommen!
                      </h1>
                      <p>
                        Trage deine Lieblingsfilme in die Datenbank ein und wÃ¤hle deine
                        persÃ¶nlichen Favoriten aus, um stets den Ãberblick zu behalten!
                        <br /><br /> Logge dich mit deinen Daten ein, trage Informationen
                        zu deinen Filmen ein, suche nach Filmen und wÃ¤hle Favoriten aus.
                      </p>
                    </div>
                    <div id="login" class="jumbotron m-2 ouredition">
                        <h:form rendered="#{ManagedBean.ifLoggedIn == false}">
                            <h1 class="display-4">
                              Login
                            </h1>
                            <br />
                            <!-- Log-In -->
                            <h:inputText id="name" value="#{ManagedBean.name}" />
                            <h:inputSecret id="password" value="#{ManagedBean.password}" />
                            <h:commandButton  class="btn btn-primary" value="anmelden" action="#{ManagedBean.logInUI()}">
                            </h:commandButton>
                            <!-- Log-In Test-Ausgabe -->
                            <h:outputText value="#{ManagedBean.name}" id="nameAusgabe"/>
                            <h:outputText value="#{ManagedBean.password}" id="passwordAusgabe"/>
                        </h:form>
                        <h:form rendered="#{ManagedBean.ifLoggedIn == true}">
                            <h1 class="display-4">
                              Logout
                            </h1>
                            <br />
                            <!-- Log-Out -->
                            <h:outputText value="Hallo #{ManagedBean.name}" id="nameAusgabe"/>
                            <br />
                            <h:commandButton  class="btn btn-primary" value="abmelden" immediate="true" action="#{ManagedBean.logOutUI()}">
                                <f:actionListener binding="#{ManagedBean.setIfLoggedIn(false)}" />
                            </h:commandButton>
                            <!-- Log-In Test-Ausgabe -->
                        </h:form>
                    <br/>
                    </div>
                </div>
            </div>
	    <ui:insert id="memberPart">
                <c:if test="#{ManagedBean.ifLoggedIn}">
                    <ui:include src="loggedInclude.xhtml" />
                </c:if>
            </ui:insert>
        </div>

        <footer class="fixed-bottom">
          <ul class="text-muted rights">
              <li><a href="impressum.html">Kontakt &amp; Impressum</a></li>
              <li>|</li>
              <li>
                  Copyright &copy; 2018
              </li>
          </ul>
        </footer>

    </h:body>
    
</html>

