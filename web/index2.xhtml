<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd" >
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
>
  <head>
    <title>MovieDatabase</title>
    <!--  Required meta tags -->
    <meta  name="description" content="Datenbank fÃ¼r Filme mit Favouriten-Funktion"/>
    <meta name="viewport" content="width=device-width, initial-scale=1.0, shrink-to-fit=no" />
    <!--  Bootstrap CSS -->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.0/css/bootstrap.min.css" />
    <link href="style.css" rel="stylesheet" />
    <!--  Optional JavaScript -->
    <!--  jQuery first, then Popper.js, then Bootstrap JS -->
    <!-- <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" type="text/javascript"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.0/umd/popper.min.js" type="text/javascript"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.0/js/bootstrap.min.js" type="text/javascript"></script>
    <script src="js/api.js" type="text/javascript"></script> -->
  </head>
  <body>
    <div class="container">
        <div class="row">
            <!--  Navigation from Bootstrap -->
            <p>
              <a class="navbar-brand" href="#">HSH TV - Filmverwaltung</a>
              <button class="navbar-toggler" type="button"> <span
              class="navbar-toggler-icon"></span> </button>
            </p>
            
            <!--  Introduction Panel Bootstrap Elements -->
            <div class="toppart" id="toppart">
              <div class="introduction">
                <h1>
                  Willkommen!
                </h1>
                <p>
                  Trage deine Lieblingsfilme in die Datenbank ein und wÃƒÂ¤hle deine
                  persÃƒÂ¶nlichen Favoriten aus, um stets den ÃƒÂœberblick zu behalten!
                  <br /><br /> Logge dich mit deinen Daten ein, trage Informationen
                  zu deinen Filmen ein, suche nach Filmen und wÃƒÂ¤hle Favoriten aus.
                </p>
              </div>
              <div id="login" class="jumbotron ouredition">
                <h1 class="display-4">
                  Login
                </h1>
                <br />
                <!-- Log-In -->
                <h:form>
                    <h:inputText id="name" value="#{ManagedBean.name}"></h:inputText>
                    <h:inputText id="password" value="#{ManagedBean.password}"></h:inputText>
                    <h:commandButton  class="btn btn-primary" value="anmelden" action="#{ManagedBean.logInUI()}">
                        <f:ajax event="click" execute="name password" render="nameAusgabe passwordAusgabe" />
                    </h:commandButton>
                    <!-- Log-In Test-Ausgabe -->
                    <h:outputText value="#{ManagedBean.name}" id="nameAusgabe"/>
                    <h:outputText value="#{ManagedBean.password}" id="passwordAusgabe"/>
                </h:form>
                <br/>
              </div>
            </div>
        </div>
        <div class="row">
            <div class="col">
                <!-- formular -->
                <h:form>
                <div>
                  <span class="text-muted display-4">Filme Suchen:</span>
                </div>
                    <!-- Radio Button -->
                    <h:selectOneMenu id="fiterAttribute" value="#{ManagedBean.filterAttribut}">
                        <f:selectItem itemValue="0" itemLabel="Title" />
                        <f:selectItem itemValue="2" itemLabel="Date" />
                        <f:selectItem itemValue="3" itemLabel="Genre" />  <!-- 1=Horror, 2=KomÃ¶die, 3=Action, 4=Drama, 5=SciFi -->
                        <f:selectItem itemValue="1" itemLabel="Director" />
                        <f:selectItem itemValue="4" itemLabel="Actor" />
                    </h:selectOneMenu>
                    <h:outputText value="#{ManagedBean.filterValue}" id="meinText"/>
                    <h:inputText id="filterValue" value="#{ManagedBean.filterValue}"></h:inputText>
                    <h:commandButton class="btn btn-primary" value="filtern" action="#{ManagedBean.showMovies()}">
                        <f:ajax execute = "fiterAttribute filterValue" render = "filmeTabelle meinText" />
                    </h:commandButton>
                    <h:commandButton class="btn btn-primary" value="favorit" action="#{ManagedBean.showFavoriteMovies()}">
                        <f:ajax render = "filmeTabelle" />
                    </h:commandButton>
                    <!-- Table -->
                    <h:outputText value="#{ManagedBean.favorite}" id="meineFilmID"/>

                    <h:dataTable value="#{ManagedBean.filmList}" id="filmeTabelle" var="films"
                            styleClass="table table-bordered table-striped"
                            headerClass="text-center"
                            rowClasses=""
                    >

                    <!-- column -->
                    <h:column>
                        <!-- column header -->
                        <f:facet name="header">Title</f:facet>
                        <!-- row content -->
                        #{films.title}
                     </h:column>

                    <h:column>
                        <f:facet name="header">Date</f:facet>
                        #{films.date}
                    </h:column>

                    <h:column>
                        <f:facet name="header">Genre</f:facet>
                        #{films.genre}
                    </h:column>

                    <h:column>
                        <f:facet name="header">Director</f:facet>
                        #{films.director}
                    </h:column>

                    <h:column>
                        <f:facet name="header">Actor</f:facet>
                        #{films.actor}
                    </h:column>

                    <h:column class="favoriteCelle">
                        <f:facet name="header">ðŸ–¤</f:facet>
                            <h:commandButton  id="favoriteButton" value="&hearts;"  class="btn text-center btn-primary" action="#{ManagedBean.setFavorite(films.id)}">
                                <f:ajax render="testText" />
                            </h:commandButton>
                    </h:column>


                </h:dataTable>
                <!-- SetFavorit Test-Ausgabe -->
                <br/>
                </h:form>
            </div>
            <div class="col border-left">
            <h:form>
                <br/>        
                <div>
                  <span class="text-muted display-4">Film Erstellen:</span>
                </div>
                <h:outputText value="#{ManagedBean.favorite}" id="testText" />

                    <!-- create-Film -->
                    <div class="input-group mb-3">
                        <div class="input-group-prepend">
                            <span class="input-group-text" id="basic-addon1">
                                <h:outputText value="title"/>
                            </span>
                        </div>
                        <h:inputText class="form-control" id="titleEingabe" value="#{ManagedBean.title}"></h:inputText>
                    </div>
                    <div class="input-group mb-3">
                        <div class="input-group-prepend">
                            <span class="input-group-text" id="basic-addon2">
                                <h:outputText value="date"/>
                            </span>
                        </div>
                        <h:inputText class="form-control" id="dateEingabe" value="#{ManagedBean.date}"></h:inputText>
                    </div>
                    <div class="input-group mb-3">
                        <div class="input-group-prepend">
                            <span class="input-group-text" id="basic-addon3">
                                <h:outputText value="genre"/>
                            </span>
                        </div>
                        <h:inputText class="form-control" id="genreEingabe" value="#{ManagedBean.genre}"></h:inputText>
                    </div>
                    <div class="input-group mb-3">
                        <div class="input-group-prepend">
                            <span class="input-group-text" id="basic-addon4">
                                <h:outputText value="director"/>
                            </span>
                        </div>
                        <h:inputText class="form-control" id="directorEingabe" value="#{ManagedBean.director}"></h:inputText>
                    </div>
                    <div class="input-group mb-3">
                        <div class="input-group-prepend">
                            <span class="input-group-text" id="basic-addon5">
                                <h:outputText value="actor"/>
                            </span>
                        </div>
                        <h:inputText class="form-control" id="actorEingabe" value="#{ManagedBean.actor}"></h:inputText>
                    </div>
                    <h:commandButton class="btn btn-primary" value="erstellen" action="#{ManagedBean.createMovieUI()}">
                        <f:ajax execute="titleEingabe dateEingabe genreEingabe directorEingabe actorEingabe" render="titleAusgabe dateAusgabe genreAusgabe directorAusgabe actorAusgabe" />
                    </h:commandButton>
                    <!-- create-Film  Test-Ausgabe -->
                    <h:outputText value="#{ManagedBean.title}" id="titleAusgabe"/>
                    <h:outputText value="#{ManagedBean.date}" id="dateAusgabe"/>
                    <h:outputText value="#{ManagedBean.genre}" id="genreAusgabe"/>
                    <h:outputText value="#{ManagedBean.director}" id="directorAusgabe"/>
                    <h:outputText value="#{ManagedBean.actor}" id="actorAusgabe"/>
                    <br/>
                    <br/>
                </h:form>
            </div>
        </div>
    </div>
    <footer>
      <ul class="text-muted rights">
          <li><a href="impressum.html">Kontakt &amp; Impressum</a></li>
          <li>|</li>
          <li>
              Copyright &copy; 2018
          </li>
      </ul>
    </footer>
  </body>
</html>
